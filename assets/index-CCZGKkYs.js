import{j as c}from"./jsx-runtime-QvZ8i92b.js";import{r as u}from"./index-uubelm5h.js";const D="sw-";function f(n){return`${D}${n}`}function N(...n){return n.reduce((e,t)=>{if(!t)return e;const s=typeof t;if(s==="string")return e.push(t),e;if(Array.isArray(t))return e.push(N(...t)),e;if(s==="object")return Object.keys(t).forEach(o=>{const r=t[o];if(typeof r=="function")try{r()&&e.push(o)}catch(i){console.error("clsx object function error",i,r)}else r&&e.push(o)}),e;if(s==="function"){try{e.push(N(t()))}catch(o){console.error("clsx function error",o,t)}return e}return e},[]).join(" ")}function L(n,e){const t={};return(n.style||e.style)&&(t.style={...n.style,...e.style}),(n.className||e.className)&&(t.className=N(n.className,e.className)),t}function w(n,e="px"){return typeof n=="number"?n+e:n}function p(n,e){const{style:t,className:s,alignment:o,transitionName:r,children:i,...d}=n,a=L({style:Object.assign({},t,r?{viewTransitionName:r}:{}),className:s},e);return a["data-transition-name"]=r,a["data-alignment"]=o,{children:i,commonProps:a,restProps:d}}async function j(n){n.update()}function _(n){return`${n}-${Math.random().toString(36).slice(2)}`}const b=typeof document<"u"&&"ontouchstart"in document.documentElement,E=b?"touchstart":"mousedown",S=b?"touchmove":"mousemove",T=b?"touchend":"mouseup";function O(n){console.log("ZStack",n.alignment);const{children:e,commonProps:t,restProps:s}=p(n,{className:[f("zstack"),f("container")]});return c.jsx("div",{...t,...s,children:e})}O.__docgenInfo={description:"",methods:[],displayName:"ZStack",props:{alignment:{required:!1,tsType:{name:"EAlignment"},description:""}},composes:["IBaseComponent"]};const x=u.createContext({boxDirection:"row"}),I=n=>n&&typeof n=="object"&&!Object.isFrozen(n);function v(n){return I(n)&&(Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){if(!n.hasOwnProperty(e)||!I(n[e]))return;const t=Object.getOwnPropertyDescriptor(n,e);t&&(t.get||t.set)||v(n[e])})),n}function P(n,e){if(n===e||Number.isNaN(n)&&Number.isNaN(e))return!0;if(typeof n!="object"||typeof e!="object"||n===null||e===null||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!P(n[t],e[t]))return!1;return!0}const q=()=>{};function B(n,e){const{onChange:t=q}={};let s=v(typeof n=="function"?n():n);const o=new Set,r=i=>{const[d,l]=u.useState(i(s));return u.useEffect(()=>{const a=m=>{l(g=>{const y=i(m);return P(g,y)?g:v(y)})};return o.add(a),()=>{o.delete(a)}},[]),d};return{useStore(){const[i,d]=u.useState(!1);return u.useEffect(()=>{const l=()=>d(a=>!a);return o.add(l),()=>{o.delete(l)}},[]),s},getStore(){return s},setStore(i){const d=typeof i=="function"?i(s):i;P(s,d)||(s=v(d),o.forEach(l=>l(s)),t(s))},useSelector:r,useSelect:r}}const h=B([]);function M(){return h.useSelector(n=>({path:n,append:e=>{const t=e.type||"page";h.setStore(s=>{const o=s.findIndex(i=>i.id===e.id&&i.type===t);if(o===-1)return[...s,Object.assign({},e,{type:t})];if(o===s.length-1)return s;const r=s[o];return[...s.slice(o,1),r]})},removeLast:(e=1)=>{h.setStore(t=>t.slice(0,-e))},isEmpty:n.length===0,count:n.length,dismiss:()=>{h.setStore(e=>e.slice(0,-1))}}))}const $=h.useStore;function V(n){const{alignment:e="center",spacing:t,...s}=n,{commonProps:o,restProps:r,children:i}=p(s,{className:["sw-hstack","sw-container",`align-${e}`],style:{"--hstack-spacing":w(t||0)}});return c.jsx(x.Provider,{value:{boxDirection:"row"},children:c.jsx("div",{...o,...r,children:i})})}V.__docgenInfo={description:"",methods:[],displayName:"HStack",props:{alignment:{required:!1,tsType:{name:"EAlignment"},description:`The guide for aligning the subviews in this stack.
 This guide has the same vertical screen coordinate for every child view.`},spacing:{required:!1,tsType:{name:"number"},description:`The distance between adjacent subviews,
 or nil if you want the stack to choose a default distance for each pair of subviews.`}},composes:["IBaseComponent"]};function R(n){const{spacing:e,...t}=n,{children:s,commonProps:o,restProps:r}=p(t,{className:[f("vstack"),f("container")],style:{"--vstack-spacing":w(e||0)}});return c.jsx(x.Provider,{value:{boxDirection:"column"},children:c.jsx("div",{...o,...r,children:s})})}R.__docgenInfo={description:"",methods:[],displayName:"VStack",props:{alignment:{required:!1,tsType:{name:"EAlignment"},description:""},spacing:{required:!1,tsType:{name:"number"},description:`The distance between adjacent subviews,
 or nil if you want the stack to choose a default distance for each pair of subviews.`}},composes:["IBaseComponent"]};function A(n){const{minLength:e,...t}=n,{commonProps:s,restProps:o}=p(t,{style:{"--min-length":w(e||0)},className:"sw-spacer"});return c.jsx("div",{...s,...o})}A.__docgenInfo={description:"",methods:[],displayName:"Spacer",props:{minLength:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""}},composes:["Omit"]};function z(n){const{lineLimit:e,...t}=n,s=e?{"--line-limit":e}:void 0,{commonProps:o,restProps:r,children:i}=p(t,{className:[f("text"),s?"line-clamp":!1],style:s});return c.jsx("div",{...o,...r,children:i})}z.__docgenInfo={description:"",methods:[],displayName:"Text",props:{lineLimit:{required:!1,tsType:{name:"number"},description:`The maximum number of lines to use for rendering text.
default to 0, which means no limit.`}},composes:["IBaseComponent"]};function H(n){const{direction:e,showsIndicators:t=!0,...s}=n,{commonProps:o,restProps:r,children:i}=p(s,{className:[f("scrollview"),e||"vertical",t?"":"no-scroll-bar"]});return c.jsx("div",{...o,...r,children:i})}H.__docgenInfo={description:"",methods:[],displayName:"ScrollView",props:{direction:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"The direction of the scroll view, default to vertical."},showsIndicators:{required:!1,tsType:{name:"boolean"},description:"Whether to show the scroll bar, default to true."}},composes:["IBaseComponent"]};function U(n){const e=u.useContext(x),{commonProps:t,restProps:s}=p(n,{className:`sw-divider ${e.boxDirection}`});return c.jsx("div",{...t,...s})}U.__docgenInfo={description:"",methods:[],displayName:"Divider",composes:["Omit"]};function k(n){const e=u.useRef(null),t=f("dragbar");return u.useEffect(()=>{var a;if(!((a=n.container)!=null&&a.current)||!e.current)return;const s=n.container.current,o=e.current,r=s.getBoundingClientRect().bottom,i=m=>{m.preventDefault();const g=b?m.touches[0].clientY:m.clientY,y=Math.max(r-Math.max(20,g),200);s.style.height=`${y}px`},d=()=>{document.removeEventListener(S,i),document.removeEventListener(T,d)},l=m=>{m.preventDefault(),document.addEventListener(S,i),document.addEventListener(T,d)};return o.addEventListener(E,l),()=>{o.removeEventListener(E,l)}},[n.container,e]),c.jsx("div",{className:t,ref:e,children:c.jsx("span",{className:f("dragbar-indicator")})})}k.__docgenInfo={description:"",methods:[],displayName:"DragBar",props:{container:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | undefined",elements:[{name:"HTMLDivElement"},{name:"undefined"}]}],raw:"RefObject<HTMLDivElement | undefined>"},description:""}}};function C(n){const e=u.useRef(null),{type:t="page",...s}=n,{commonProps:o,restProps:r,children:i}=p(Object.assign({},s),{className:["sw-page",`swp-${t}`]});return c.jsxs("div",{...o,...r,ref:e,children:[t==="actionsheet"&&c.jsx(k,{container:e}),i]})}C.__docgenInfo={description:"",methods:[],displayName:"Page",props:{type:{required:!1,tsType:{name:"IPageType"},description:"page type, default to 'page'"}},composes:["IBaseComponent"]};const Z=_("home");function F(n){const e=$(),{ignoreSafeArea:t,...s}=n,o={};t&&(t===!0?["top","right","bottom","left"]:t).reduce((m,g)=>(m[`--safe-area-${g}`]=0,m),o);const r=u.useMemo(()=>({component:()=>c.jsx(c.Fragment,{children:n.children}),type:"page",id:Z}),[n.children]),i=u.useMemo(()=>{if(!e.length)return[r];const a=e.findLastIndex(m=>m.type==="page");return a===-1?[r,...e]:e.slice(a)},[e,r]),{commonProps:d,restProps:l}=p(s,{style:{...o},className:"sw-navigationstack"});return c.jsx("div",{...d,...l,children:i.map(a=>{const m=a.component;return c.jsx(C,{type:a.type,children:c.jsx(m,{})},`${a.type}$$${a.id}`)})})}F.__docgenInfo={description:"",methods:[],displayName:"NavigationStack",props:{ignoreSafeArea:{required:!1,tsType:{name:"union",raw:"boolean | EEdge[]",elements:[{name:"boolean"},{name:"Array",elements:[{name:"EEdge"}],raw:"EEdge[]"}]},description:""},navigationDestination:{required:!1,tsType:{name:"string"},description:""}},composes:["IBaseComponent"]};function Y(n){const{commonProps:e,restProps:t,children:s}=p(n,{className:"sw-button"});return c.jsx("button",{...e,...t,children:s})}Y.__docgenInfo={description:"",methods:[],displayName:"Button",composes:["IBaseElementComponent"]};function W(n){const{commonProps:e,restProps:t}=p(n,{className:"sw-image"});return c.jsx("img",{...e,...t})}W.__docgenInfo={description:"",methods:[],displayName:"Image",composes:["Omit"]};function X(n){const{destination:e,dismiss:t,pageOptions:s,...o}=n,r=M(),i=u.useRef(_("page")),{commonProps:d,restProps:l,children:a}=p(o,{className:"sw-navigationlink"}),m=u.useCallback(()=>{if(t){j({update:()=>r.removeLast(),type:"backwards"});return}if(!e){console.warn("NavigationLink: destination is not set");return}if(typeof e=="string"){window.location.href=e;return}j({update:()=>{r.append({component:e,type:s==null?void 0:s.type,id:i.current})},type:"forwards"})},[e,r,t]);return c.jsx("div",{...d,...l,onClick:m,children:a})}X.__docgenInfo={description:"",methods:[],displayName:"NavigationLink",props:{destination:{required:!1,tsType:{name:"union",raw:"string | ComponentType",elements:[{name:"string"},{name:"ComponentType"}]},description:"next page component or url"},pageOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  type: IPageType
}`,signature:{properties:[{key:"type",value:{name:"IPageType",required:!0}}]}},description:""},dismiss:{required:!1,tsType:{name:"boolean"},description:"dismiss current page (back to previous page)"}},composes:["IBaseComponent"]};export{Y as B,U as D,V as H,W as I,X as N,A as S,z as T,R as V,O as Z,F as a,H as b};
