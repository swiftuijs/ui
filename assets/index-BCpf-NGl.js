import{j as a}from"./jsx-runtime-QvZ8i92b.js";import{r as l}from"./index-uubelm5h.js";const D="sw-";function x(n){return`${D}${n}`}function N(...n){return n.reduce((e,t)=>{if(!t)return e;const s=typeof t;if(s==="string")return e.push(t),e;if(Array.isArray(t))return e.push(N(...t)),e;if(s==="object")return Object.keys(t).forEach(o=>{const r=t[o];if(typeof r=="function")try{r()&&e.push(o)}catch(i){console.error("clsx object function error",i,r)}else r&&e.push(o)}),e;if(s==="function"){try{e.push(N(t()))}catch(o){console.error("clsx function error",o,t)}return e}return e},[]).join(" ")}function L(n,e){const t={};return(n.style||e.style)&&(t.style={...n.style,...e.style}),(n.className||e.className)&&(t.className=N(n.className,e.className)),t}function T(n,e="px"){return typeof n=="number"?n+e:n}function p(n,e){const{style:t,className:s,transitionName:o,children:r,...i}=n,u=L({style:Object.assign({},t,o?{viewTransitionName:o}:{}),className:s},e);return u["data-transition-name"]=o,{children:r,commonProps:u,restProps:i}}async function b(n){n.update()}function I(n){return`${n}-${Math.random().toString(36).slice(2)}`}const v=typeof document<"u"&&"ontouchstart"in document.documentElement,E=v?"touchstart":"mousedown",j=v?"touchmove":"mousemove",S=v?"touchend":"mouseup";function M(n){const{children:e,commonProps:t,restProps:s}=p(n,{className:"sw-zstack"});return a.jsx("div",{...t,...s,children:e})}M.__docgenInfo={description:"",methods:[],displayName:"ZStack"};const P=l.createContext({boxDirection:"row"}),_=n=>n&&typeof n=="object"&&!Object.isFrozen(n);function y(n){return _(n)&&(Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){if(!n.hasOwnProperty(e)||!_(n[e]))return;const t=Object.getOwnPropertyDescriptor(n,e);t&&(t.get||t.set)||y(n[e])})),n}function w(n,e){if(n===e||Number.isNaN(n)&&Number.isNaN(e))return!0;if(typeof n!="object"||typeof e!="object"||n===null||e===null||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!w(n[t],e[t]))return!1;return!0}const R=()=>{};function B(n,e){const{onChange:t=R}={};let s=y(typeof n=="function"?n():n);const o=new Set,r=i=>{const[d,u]=l.useState(i(s));return l.useEffect(()=>{const c=m=>{u(f=>{const h=i(m);return w(f,h)?f:y(h)})};return o.add(c),()=>{o.delete(c)}},[]),d};return{useStore(){const[i,d]=l.useState(!1);return l.useEffect(()=>{const u=()=>d(c=>!c);return o.add(u),()=>{o.delete(u)}},[]),s},getStore(){return s},setStore(i){const d=typeof i=="function"?i(s):i;w(s,d)||(s=y(d),o.forEach(u=>u(s)),t(s))},useSelector:r,useSelect:r}}const g=B([]);function V(){return g.useSelector(n=>({path:n,append:e=>{g.setStore(t=>{const s=t.findIndex(r=>r.id===e.id);if(s===-1)return[...t,e];if(s===t.length-1)return t;const o=t[s];return[...t.slice(s,1),o]})},removeLast:(e=1)=>{g.setStore(t=>t.slice(0,-e))},isEmpty:n.length===0,count:n.length,dismiss:()=>{g.setStore(e=>e.slice(0,-1))}}))}const q=g.useStore;function k(n,e){const t=l.useRef();return l.useEffect(()=>{if(!t.current)return;const s=t.current,o=(e==null?void 0:e.direction)==="horizontal"?s.scrollWidth>s.clientWidth:s.scrollHeight>s.clientHeight;s.classList.toggle("sw-overflowed",o)},[n,e]),t}function z(n){const{alignment:e="center",spacing:t,...s}=n,o=k(n,{direction:"horizontal"}),{commonProps:r,restProps:i,children:d}=p(s,{className:["sw-hstack","sw-container",`align-${e}`],style:{"--spacing":T(t||0)}});return a.jsx(P.Provider,{value:{boxDirection:"row"},children:a.jsx("div",{...r,...i,ref:o,children:d})})}z.__docgenInfo={description:"",methods:[],displayName:"HStack",props:{alignment:{required:!1,tsType:{name:"EVerticalAlignment"},description:`The guide for aligning the subviews in this stack.
 This guide has the same vertical screen coordinate for every child view.`},spacing:{required:!1,tsType:{name:"number"},description:`The distance between adjacent subviews,
 or nil if you want the stack to choose a default distance for each pair of subviews.`}},composes:["IBaseComponent"]};function H(n){const{children:e,commonProps:t,restProps:s}=p(n,{className:["sw-vstack","sw-container"]}),o=k(n);return a.jsx(P.Provider,{value:{boxDirection:"column"},children:a.jsx("div",{...t,...s,ref:o,children:e})})}H.__docgenInfo={description:"",methods:[],displayName:"VStack"};function $(n){const{minLength:e,...t}=n,{commonProps:s,restProps:o}=p(t,{style:{"--min-length":T(e||0)},className:"sw-spacer"});return a.jsx("div",{...s,...o})}$.__docgenInfo={description:"",methods:[],displayName:"Spacer",props:{minLength:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""}},composes:["Omit"]};function A(n){const{commonProps:e,restProps:t,children:s}=p(n,{className:"sw-text"});return a.jsx("div",{...e,...t,children:s})}A.__docgenInfo={description:"",methods:[],displayName:"Text"};function U(n){const{direction:e,...t}=n,{commonProps:s,restProps:o,children:r}=p(t,{className:["sw-scrollview",e||"vertical"]});return a.jsx("div",{...s,...o,children:r})}U.__docgenInfo={description:"",methods:[],displayName:"ScrollView",props:{direction:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:""}},composes:["IBaseComponent"]};function F(n){const e=l.useContext(P),{commonProps:t,restProps:s}=p(n,{className:`sw-divider ${e.boxDirection}`});return a.jsx("div",{...t,...s})}F.__docgenInfo={description:"",methods:[],displayName:"Divider",composes:["Omit"]};function O(n){const e=l.useRef(null),t=x("dragbar");return l.useEffect(()=>{var c;if(!((c=n.container)!=null&&c.current)||!e.current)return;const s=n.container.current,o=e.current,r=s.getBoundingClientRect().bottom,i=m=>{const f=v?m.touches[0].clientY:m.clientY,h=Math.max(r-Math.max(0,f),200);s.style.height=`${h}px`},d=()=>{document.removeEventListener(j,i),document.removeEventListener(S,d)},u=m=>{m.preventDefault(),document.addEventListener(j,i),document.addEventListener(S,d)};return o.addEventListener(E,u),()=>{o.removeEventListener(E,u)}},[n.container,e]),a.jsx("div",{className:t,ref:e,children:a.jsx("span",{className:x("dragbar-indicator")})})}O.__docgenInfo={description:"",methods:[],displayName:"DragBar",props:{container:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"HTMLDivElement | undefined",elements:[{name:"HTMLDivElement"},{name:"undefined"}]}],raw:"RefObject<HTMLDivElement | undefined>"},description:""}}};function C(n){const e=l.useRef(null),{type:t="page",...s}=n,{commonProps:o,restProps:r,children:i}=p(Object.assign({},s),{className:["sw-page",`swp-${t}`]});return a.jsxs("div",{...o,...r,ref:e,children:[t==="actionsheet"&&a.jsx(O,{container:e}),i]})}C.__docgenInfo={description:"",methods:[],displayName:"Page",props:{type:{required:!1,tsType:{name:"IPageType"},description:"page type, default to 'page'"}},composes:["IBaseComponent"]};const W=I("home");function Y(n){const e=q(),{ignoreSafeArea:t,...s}=n,o={};t&&(t===!0?["top","right","bottom","left"]:t).reduce((m,f)=>(m[`--safe-area-${f}`]=0,m),o);const r=l.useMemo(()=>({component:()=>a.jsx(a.Fragment,{children:n.children}),type:"page",id:W}),[n.children]),i=l.useMemo(()=>{if(!e.length)return[r];const c=e.findLastIndex(m=>m.type==="page");return c===-1?[r,...e]:e.slice(c)},[e,r]),{commonProps:d,restProps:u}=p(s,{style:{...o},className:"sw-navigationstack"});return a.jsx("div",{...d,...u,children:i.map(c=>{const m=c.component;return a.jsx(C,{type:c.type,children:a.jsx(m,{})},c.id)})})}Y.__docgenInfo={description:"",methods:[],displayName:"NavigationStack",props:{ignoreSafeArea:{required:!1,tsType:{name:"union",raw:"boolean | EEdge[]",elements:[{name:"boolean"},{name:"Array",elements:[{name:"EEdge"}],raw:"EEdge[]"}]},description:""},navigationDestination:{required:!1,tsType:{name:"string"},description:""}},composes:["IBaseComponent"]};function Z(n){const{commonProps:e,restProps:t,children:s}=p(n,{className:"sw-button"});return a.jsx("button",{...e,...t,children:s})}Z.__docgenInfo={description:"",methods:[],displayName:"Button",composes:["IBaseElementComponent"]};function X(n){const{commonProps:e,restProps:t}=p(n,{className:"sw-image"});return a.jsx("img",{...e,...t})}X.__docgenInfo={description:"",methods:[],displayName:"Image",composes:["Omit"]};function G(n){const{destination:e,dismiss:t,pageOptions:s,...o}=n,r=V(),i=l.useRef(I("page")),{commonProps:d,restProps:u,children:c}=p(o,{className:"sw-navigationlink"}),m=l.useCallback(()=>{if(t){b({update:()=>r.removeLast(),type:"backwards"});return}if(!e){console.warn("NavigationLink: destination is not set");return}if(typeof e=="string"){window.location.href=e;return}b({update:()=>{r.append({component:e,type:s==null?void 0:s.type,id:i.current})},type:"forwards"})},[e,r,t]);return a.jsx("div",{...d,...u,onClick:m,children:c})}G.__docgenInfo={description:"",methods:[],displayName:"NavigationLink",props:{destination:{required:!1,tsType:{name:"union",raw:"string | ComponentType",elements:[{name:"string"},{name:"ComponentType"}]},description:"next page component or url"},pageOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  type: IPageType
}`,signature:{properties:[{key:"type",value:{name:"IPageType",required:!0}}]}},description:""},dismiss:{required:!1,tsType:{name:"boolean"},description:"dismiss current page (back to previous page)"}},composes:["IBaseComponent"]};export{Z as B,F as D,z as H,X as I,G as N,$ as S,A as T,H as V,M as Z,Y as a,U as b};
