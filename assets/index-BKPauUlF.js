import{j as a}from"./jsx-runtime-QvZ8i92b.js";import{r as m}from"./index-uubelm5h.js";function h(...n){return n.reduce((e,t)=>{if(!t)return e;const s=typeof t;if(s==="string")return e.push(t),e;if(Array.isArray(t))return e.push(h(...t)),e;if(s==="object")return Object.keys(t).forEach(o=>{const r=t[o];if(typeof r=="function")try{r()&&e.push(o)}catch(i){console.error("clsx object function error",i,r)}else r&&e.push(o)}),e;if(s==="function"){try{e.push(h(t()))}catch(o){console.error("clsx function error",o,t)}return e}return e},[]).join(" ")}function _(n,e){const t={};return(n.style||e.style)&&(t.style={...n.style,...e.style}),(n.className||e.className)&&(t.className=h(n.className,e.className)),t}function x(n,e="px"){return typeof n=="number"?n+e:n}function u(n,e){const{style:t,className:s,transitionName:o,children:r,...i}=n,c=_({style:Object.assign({},t,o?{viewTransitionName:o}:{}),className:s},e);return c["data-transition-name"]=o,{children:r,commonProps:c,restProps:i}}async function v(n){n.update()}function j(n){return`${n}-${Math.random().toString(36).slice(2)}`}function T(n){const{children:e,commonProps:t,restProps:s}=u(n,{className:"sw-zstack"});return a.jsx("div",{...t,...s,children:e})}T.__docgenInfo={description:"",methods:[],displayName:"ZStack"};const w=m.createContext({boxDirection:"row"}),b=n=>n&&typeof n=="object"&&!Object.isFrozen(n);function y(n){return b(n)&&(Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){if(!n.hasOwnProperty(e)||!b(n[e]))return;const t=Object.getOwnPropertyDescriptor(n,e);t&&(t.get||t.set)||y(n[e])})),n}function P(n,e){if(n===e||Number.isNaN(n)&&Number.isNaN(e))return!0;if(typeof n!="object"||typeof e!="object"||n===null||e===null||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!P(n[t],e[t]))return!1;return!0}const C=()=>{};function E(n,e){const{onChange:t=C}={};let s=y(typeof n=="function"?n():n);const o=new Set,r=i=>{const[l,c]=m.useState(i(s));return m.useEffect(()=>{const d=p=>{c(g=>{const N=i(p);return P(g,N)?g:y(N)})};return o.add(d),()=>{o.delete(d)}},[]),l};return{useStore(){const[i,l]=m.useState(!1);return m.useEffect(()=>{const c=()=>l(d=>!d);return o.add(c),()=>{o.delete(c)}},[]),s},getStore(){return s},setStore(i){const l=typeof i=="function"?i(s):i;P(s,l)||(s=y(l),o.forEach(c=>c(s)),t(s))},useSelector:r,useSelect:r}}const f=E([]);function S(){return f.useSelector(n=>({path:n,append:e=>{f.setStore(t=>{const s=t.findIndex(r=>r.id===e.id);if(s===-1)return[...t,e];if(s===t.length-1)return t;const o=t[s];return[...t.slice(s,1),o]})},removeLast:(e=1)=>{f.setStore(t=>t.slice(0,-e))},isEmpty:n.length===0,count:n.length,dismiss:()=>{f.setStore(e=>e.slice(0,-1))}}))}const O=f.useStore;function I(n,e){const t=m.useRef();return m.useEffect(()=>{if(!t.current)return;const s=t.current,o=(e==null?void 0:e.direction)==="horizontal"?s.scrollWidth>s.clientWidth:s.scrollHeight>s.clientHeight;s.classList.toggle("sw-overflowed",o)},[n,e]),t}function q(n){const{alignment:e="center",spacing:t,...s}=n,o=I(n,{direction:"horizontal"}),{commonProps:r,restProps:i,children:l}=u(s,{className:["sw-hstack","sw-container",`align-${e}`],style:{"--spacing":x(t||0)}});return a.jsx(w.Provider,{value:{boxDirection:"row"},children:a.jsx("div",{...r,...i,ref:o,children:l})})}q.__docgenInfo={description:"",methods:[],displayName:"HStack",props:{alignment:{required:!1,tsType:{name:"EVerticalAlignment"},description:`The guide for aligning the subviews in this stack.
 This guide has the same vertical screen coordinate for every child view.`},spacing:{required:!1,tsType:{name:"number"},description:`The distance between adjacent subviews,
 or nil if you want the stack to choose a default distance for each pair of subviews.`}},composes:["IBaseComponent"]};function L(n){const{children:e,commonProps:t,restProps:s}=u(n,{className:["sw-vstack","sw-container"]}),o=I(n);return a.jsx(w.Provider,{value:{boxDirection:"column"},children:a.jsx("div",{...t,...s,ref:o,children:e})})}L.__docgenInfo={description:"",methods:[],displayName:"VStack"};function D(n){const{minLength:e,...t}=n,{commonProps:s,restProps:o}=u(t,{style:{"--min-length":x(e||0)},className:"sw-spacer"});return a.jsx("div",{...s,...o})}D.__docgenInfo={description:"",methods:[],displayName:"Spacer",props:{minLength:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""}},composes:["Omit"]};function z(n){const{commonProps:e,restProps:t,children:s}=u(n,{className:"sw-text"});return a.jsx("div",{...e,...t,children:s})}z.__docgenInfo={description:"",methods:[],displayName:"Text"};function B(n){const{direction:e,...t}=n,{commonProps:s,restProps:o,children:r}=u(t,{className:["sw-scrollview",e||"vertical"]});return a.jsx("div",{...s,...o,children:r})}B.__docgenInfo={description:"",methods:[],displayName:"ScrollView",props:{direction:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:""}},composes:["IBaseComponent"]};function V(n){const e=m.useContext(w),{commonProps:t,restProps:s}=u(n,{className:`sw-divider ${e.boxDirection}`});return a.jsx("div",{...t,...s})}V.__docgenInfo={description:"",methods:[],displayName:"Divider",composes:["Omit"]};function k(n){const e=S(),{type:t="page",...s}=n,{commonProps:o,restProps:r,children:i}=u(Object.assign({},s),{className:["sw-page",`swp-${t}`]}),l=m.useCallback(c=>{n.type==="page"||!c.target||c.target.closest(".page-inner")||v({update:()=>e.removeLast(),type:"backwards"})},[n.type,e]);return a.jsx("div",{...o,...r,onClick:l,children:a.jsx("div",{className:"page-inner",children:i})})}k.__docgenInfo={description:"",methods:[],displayName:"Page",props:{type:{required:!1,tsType:{name:"IPageType"},description:"page type, default to 'page'"}},composes:["IBaseComponent"]};const A=j("home");function H(n){const e=O(),{ignoreSafeArea:t,...s}=n,o={};t&&(t===!0?["top","right","bottom","left"]:t).reduce((p,g)=>(p[`--safe-area-${g}`]=0,p),o);const r=m.useMemo(()=>({component:()=>a.jsx(a.Fragment,{children:n.children}),type:"page",id:A}),[n.children]),i=m.useMemo(()=>{if(!e.length)return[r];const d=e.findLastIndex(p=>p.type==="page");return d===-1?[r,...e]:e.slice(d)},[e,r]),{commonProps:l,restProps:c}=u(s,{style:{...o},className:"sw-navigationstack"});return a.jsx("div",{...l,...c,children:i.map(d=>{const p=d.component;return a.jsx(k,{type:d.type,children:a.jsx(p,{})},d.id)})})}H.__docgenInfo={description:"",methods:[],displayName:"NavigationStack",props:{ignoreSafeArea:{required:!1,tsType:{name:"union",raw:"boolean | EEdge[]",elements:[{name:"boolean"},{name:"Array",elements:[{name:"EEdge"}],raw:"EEdge[]"}]},description:""},navigationDestination:{required:!1,tsType:{name:"string"},description:""}},composes:["IBaseComponent"]};function R(n){const{commonProps:e,restProps:t,children:s}=u(n,{className:"sw-button"});return a.jsx("button",{...e,...t,children:s})}R.__docgenInfo={description:"",methods:[],displayName:"Button",composes:["IBaseElementComponent"]};function $(n){const{commonProps:e,restProps:t}=u(n,{className:"sw-image"});return a.jsx("img",{...e,...t})}$.__docgenInfo={description:"",methods:[],displayName:"Image",composes:["Omit"]};function M(n){const{destination:e,dismiss:t,pageOptions:s,...o}=n,r=S(),i=m.useRef(j("page")),{commonProps:l,restProps:c,children:d}=u(o,{className:"sw-navigationlink"}),p=m.useCallback(()=>{if(t){v({update:()=>r.removeLast(),type:"backwards"});return}if(!e){console.warn("NavigationLink: destination is not set");return}if(typeof e=="string"){window.location.href=e;return}v({update:()=>{r.append({component:e,type:s==null?void 0:s.type,id:i.current})},type:"forwards"})},[e,r,t]);return a.jsx("div",{...l,...c,onClick:p,children:d})}M.__docgenInfo={description:"",methods:[],displayName:"NavigationLink",props:{destination:{required:!1,tsType:{name:"union",raw:"string | ComponentType",elements:[{name:"string"},{name:"ComponentType"}]},description:"next page component or url"},pageOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  type: IPageType
}`,signature:{properties:[{key:"type",value:{name:"IPageType",required:!0}}]}},description:""},dismiss:{required:!1,tsType:{name:"boolean"},description:"dismiss current page (back to previous page)"}},composes:["IBaseComponent"]};export{R as B,V as D,q as H,$ as I,M as N,D as S,z as T,L as V,T as Z,H as a,B as b};
