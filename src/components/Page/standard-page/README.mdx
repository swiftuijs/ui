import { Meta, Canvas } from '@storybook/addon-docs/blocks'
import * as StandardPageStories from './stories'

<Meta title="SwiftUI/StandardPage/Readme" />

# StandardPage

## Overview

StandardPage is the default page container used in NavigationStack. It provides a standard page layout and can optionally display a navigation bar with title and toolbar items.

**SwiftUI Correspondence**: Similar to SwiftUI's view containers in NavigationStack.

## Basic Usage

### Simple Page

<Canvas of={StandardPageStories.Default} />

### Page with Navigation Title

<Canvas of={StandardPageStories.WithNavigationTitle} />

## Navigation Bar

### Automatic Back Button

When a page is not the root page, the back button appears automatically:

```tsx
// In NavigationStack
<NavigationStack>
  {/* Root page - no back button */}
  <StandardPage id="home" navigationTitle="Home">
    <NavigationLink destination={DetailPage}>
      <Button>Go to Detail</Button>
    </NavigationLink>
  </StandardPage>
</NavigationStack>

// Detail page - back button appears automatically
function DetailPage() {
  return (
    <StandardPage id="detail" navigationTitle="Details">
      <Text>Detail content</Text>
    </StandardPage>
  )
}
```

### With Toolbar Items

Add action buttons to the navigation bar:

<Canvas of={StandardPageStories.WithToolbarItems} />

### Multiple Toolbar Items

```tsx
<StandardPage 
  id="article" 
  navigationTitle="Article"
  toolbarItems={
    <HStack spacing={8}>
      <Button onClick={handleBookmark}>üîñ</Button>
      <Button onClick={handleShare}>Share</Button>
    </HStack>
  }
>
  <ScrollView>...</ScrollView>
</StandardPage>
```

## Page Content Layout

StandardPage uses flexbox layout. Content automatically fills available space:

<Canvas of={StandardPageStories.ScrollableContent} />

## Props Reference

| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| `id` | `string` | ‚úÖ | - | Unique identifier for the page |
| `navigationTitle` | `string` | ‚ùå | - | Title to display in navigation bar. When provided, navigation bar is shown. |
| `toolbarItems` | `ReactNode` | ‚ùå | - | Items to display on the right side of navigation bar |
| `style` | `CSSProperties` | ‚ùå | - | Custom CSS styles |
| `className` | `string` | ‚ùå | - | Custom CSS class name |
| `children` | `ReactNode` | ‚ùå | - | Page content |

## Common Patterns

### List Page

```tsx
<StandardPage id="products" navigationTitle="Products">
  <List>
    {products.map(product => (
      <Section key={product.id}>
        <ProductRow product={product} />
      </Section>
    ))}
  </List>
</StandardPage>
```

### Form Page

```tsx
<StandardPage 
  id="edit" 
  navigationTitle="Edit"
  toolbarItems={<Button onClick={handleSave}>Save</Button>}
>
  <Form onSubmit={handleSubmit}>
    <TextField label="Name" value={name} onChange={setName} />
    <TextField label="Email" value={email} onChange={setEmail} />
  </Form>
</StandardPage>
```

### Detail Page

```tsx
<StandardPage id="detail" navigationTitle="Product Details">
  <ScrollView>
    <VStack spacing={20}>
      <Image src={product.image} />
      <Text style={{ fontSize: 24, fontWeight: 'bold' }}>
        {product.name}
      </Text>
      <Text>{product.description}</Text>
    </VStack>
  </ScrollView>
</StandardPage>
```

### Settings Page

```tsx
<StandardPage id="settings" navigationTitle="Settings">
  <List>
    <Section header={<Text>Account</Text>}>
      <NavigationLink destination={ProfilePage}>
        <HStack>
          <Text>Profile</Text>
          <Spacer />
          <Text>‚Ä∫</Text>
        </HStack>
      </NavigationLink>
    </Section>
    <Section header={<Text>Preferences</Text>}>
      <Toggle label="Notifications" value={notifications} onChange={setNotifications} />
    </Section>
  </List>
</StandardPage>
```

## Integration with NavigationStack

StandardPage is designed to work within NavigationStack:

```tsx
<NavigationStack>
  <StandardPage id="home" navigationTitle="Home">
    <VStack>
      <NavigationLink 
        destination={DetailPage}
        pageOptions={{ type: 'page' }}
      >
        <Button>Go to Detail</Button>
      </NavigationLink>
    </VStack>
  </StandardPage>
</NavigationStack>
```

## Styling

### Custom Page Styles

```tsx
<StandardPage 
  id="custom" 
  navigationTitle="Custom"
  style={{ backgroundColor: '#f5f5f5' }}
>
  <VStack>...</VStack>
</StandardPage>
```

### Custom Navigation Bar Styles

Navigation bar styles can be customized via CSS variables:

```css
:root {
  --sw-color-background-primary: #FFFFFF;
  --sw-color-separator: #C6C6C8;
}
```

## Best Practices

1. **Always provide an id**: Each page needs a unique identifier
2. **Use navigationTitle consistently**: Keep titles short and descriptive
3. **Place actions in toolbar**: Use `toolbarItems` for page-level actions
4. **Use ScrollView for long content**: Ensure content is scrollable when needed
5. **Keep pages focused**: Each page should have a single, clear purpose

## Related Components

- [NavigationStack](/docs/components-navigation-stack) - Container for pages
- [NavigationLink](/docs/components-navigation-link) - Navigate between pages
- [NavigationBar](/docs/components-navigation-bar) - The navigation bar component
- [ScrollView](/docs/components-scroll-view) - For scrollable content

